{% extends 'base_generic.html' %}
{% load static %}

{% block content %}
<body>
<div class="page-container">
    <nav class="navbar navbar-expand-lg">
        <div class="container-fluid">
            <a class="navbar-logo" href="/">H</a>
            <a class="navbar-brand" href="/">HousRent</a>
            <div class="collapse navbar-collapse" id="navbarNav">
                <ul class="navbar-nav">
                    <li class="nav-item">
                    <a class="nav-link text-center" href="#">Sobre Nosotros</a>
                    </li>
                    <li class="nav-item">
                    <a class="nav-link text-center" href="#">Política</a>
                    </li>
                    <li class="nav-item">
                    <a class="nav-link text-center" href="#">Ayuda</a>
                    </li>
                    <li class="nav-item">
                    <a class="nav-link text-center" href="#">Reservas</a>
                    </li>
                    <li class="nav-item">
                    <a class="nav-link text-center" href="#">Favoritos</a>
                    </li>
                </ul>
            </div>
            <a class="btn btn-primary" href="/login">Iniciar Sesión</a>
        </div>
    </nav>

    <div class="page-header">
        <div class="row">
        <h1 style="margin-left: 10px;">{{ accommodation.name }}</h1>
        <h3 style="margin-left: 10px;">{{ accommodation.address.city }}, {{ accommodation.address.country }}</h3>
        <!-- Puedes añadir más información aquí si es necesario -->
        </div>
    </div>
        <!-- Arreglar rating
        <div class="rating">
            <span class="material-symbols-outlined rating-star">
                star
            </span>
            <p class="card-text">{{ accommodation.average_rating|default:"ND" }}</p>
        </div>
        -->

<!-- Carousel de fotos -->
<div id="carouselExampleControls" class="carousel slide" data-ride="carousel">
    <div class="carousel-inner">
        {% for image in images %}
            <div class="carousel-item {% if forloop.first %}active{% endif %}">
                <img src="{{ image.image.url }}" class="d-block mx-auto fixed-size-image" alt="{{ image.alt }}">
            </div>
        {% endfor %}
    </div>
    <a class="carousel-control-prev" href="#carouselExampleControls" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    </a>
    <a class="carousel-control-next" href="#carouselExampleControls" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
    </a>
</div>

<div class="page-content" style="margin-top: 20px;">
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-md-4 mb-4">
                <div class="card">
                    <h4 class="title-card">Servicios</h4>
                        {% if accommodation.service.all %}
                            <div class="services">
                                {% for service in accommodation.service.all %}
                                    <p class="infomation-card-service">{{ service.name }} :</p>
                                    <p class="infomation-card-service-info"> {{ service.description }} </p>
                                {% endfor %}
                            </div>
                        {% endif %}
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card">
                    <h4 class="title-card">Descripción</h4>
                    <h7 class="infomation-card">{{ accommodation.description }}</h7>
                </div>
            </div>
            <div class="col-md-4 mb-4">
                <div class="card">
                    <h4 class="title-card">Detalles</h4>
                    <p class="infomation-card-detalles"><b class="price"> Fecha de creación: </b> {{ accommodation.creation_date }}</p>
                    <p class="infomation-card-detalles"><b class="price"> Última modificación: </b> {{ accommodation.modification_date }}</p>
                    <p class="infomation-card-detalles"><b class="price"> Precio: </b> {{ accommodation.price }}€ Noche</p>
                    <p class="infomation-card-detalles"><b class="price"> Capacidad: </b> {{ accommodation.capacity }} personas</p>
                    <p class="infomation-card-detalles"><b class="price"> País: </b> {{ accommodation.address.country }}</p>
                    <p class="infomation-card-detalles"><b class="price"> Región: </b> {{ accommodation.address.region }}</p>
                    <p class="infomation-card-detalles"><b class="price"> Ciudad: </b> {{ accommodation.address.city }}</p>
                    <p class="infomation-card-detalles"><b class="price"> Código postal: </b> {{ accommodation.address.postal_code }}</p>
                    <p class="infomation-card-detalles"><b class="price"> Calle: </b> {{ accommodation.address.address_line }}</p>
                    <p class="infomation-card-detalles"><b class="price"> Número: </b> {{ accommodation.address.street_number }}</p>

                </div>
            </div>
         </div>
    </div>
</div>
</div>
</body>


<script>
    window.addEventListener('scroll', function() {
        var navbar = document.querySelector('.navbar');
        if (window.scrollY > 0) {
            navbar.classList.add('shadow-navbar');
        } else {
            navbar.classList.remove('shadow-navbar');
        }
    });

document.querySelectorAll('.heart-button').forEach(function(heartIcon) {
        heartIcon.addEventListener('click', function() {
            // Aquí puedes añadir la lógica para manejar el favorito
            console.log('Alojamiento añadido a favoritos');
            this.classList.toggle('heart-button-selected');
        });
    });
</script>

{% endblock %}